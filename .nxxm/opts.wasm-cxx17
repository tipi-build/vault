#set (CMAKE_STATIC_LIBRARY_SUFFIX ".js")
set (CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} --bind -s NO_EXIT_RUNTIME=1  --whole-archive ")
set (CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} --bind -s NO_EXIT_RUNTIME=1 --whole-archive ")
add_definitions(-g4) # Generates emscripten C++ sourcemaps